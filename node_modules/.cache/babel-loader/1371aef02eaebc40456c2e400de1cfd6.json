{"remainingRequest":"D:\\workspace\\my-webify-app\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\my-webify-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\workspace\\my-webify-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\my-webify-app\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\my-webify-app\\src\\App.vue","mtime":1660041440317},{"path":"D:\\workspace\\my-webify-app\\babel.config.js","mtime":1660037114397},{"path":"D:\\workspace\\my-webify-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660040797625},{"path":"D:\\workspace\\my-webify-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1660040798199},{"path":"D:\\workspace\\my-webify-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660040797625},{"path":"D:\\workspace\\my-webify-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1660040802817}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZmlsdGVyRGF0ZSB9IGZyb20gIi4vZmlsdGVycy9maWx0ZXJzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtaW5EYXRlOiBuZXcgRGF0ZSgpLAogICAgICBtYXhEYXRlOiBuZXcgRGF0ZSgyMDMwLCAwLCAxKSwKICAgICAgaWNvbk5hbWU6ICJhcnJvdy11cCIsCiAgICAgIGNhbGVuZGFySGVpZ2h0OiAiODAwcHgiLAogICAgICB0aW1lVmFsdWU6IG51bGwKICAgIH07CiAgfSwKCiAgYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLnRpbWVWYWx1ZSA9IHRoaXMuZ2V0VG9kYXlUaW1lKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5b2T5aSp5pe26Ze0CiAgICBnZXRUb2RheVRpbWUodGltZSA9IG5ldyBEYXRlKCkpIHsKICAgICAgY29uc3QgZm9ybWF0ID0gbnVtID0+IHsKICAgICAgICByZXR1cm4gbnVtIDwgMTAgPyAiMCIgKyBudW0gOiBudW07CiAgICAgIH07CgogICAgICBjb25zdCBjZCA9IG5ldyBEYXRlKHRpbWUpOwogICAgICBjb25zdCB5ZWFyID0gY2QuZ2V0RnVsbFllYXIoKTsKICAgICAgY29uc3QgbW9udGggPSBmb3JtYXQoY2QuZ2V0TW9udGgoKSArIDEpOwogICAgICBjb25zdCBkYXkgPSBmb3JtYXQoY2QuZ2V0RGF0ZSgpKTsKICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7CiAgICB9LAoKICAgIC8vIOmAieaLqeaXpeacnwogICAgc2VsZWN0Q2FsZW5kYXIodmFsdWUpIHsKICAgICAgdGhpcy50aW1lVmFsdWUgPSB0aGlzLmdldFRvZGF5VGltZSh2YWx1ZSk7CiAgICAgIHRoaXMuJGVtaXQoInRpbWVWYWx1ZSIsIHRoaXMudGltZVZhbHVlKTsKICAgIH0sCgogICAgaGlkZU9yc2hvd0NhbGVuZGFyKCkgewogICAgICB0aGlzLmNhbGVuZGFySGVpZ2h0ID0gdGhpcy5jYWxlbmRhckhlaWdodCA9PSAiNDAwcHgiID8gIjMwcHgiIDogIjQwMHB4IjsKICAgICAgdGhpcy5pY29uTmFtZSA9IHRoaXMuaWNvbk5hbWUgPT0gImFycm93LXVwIiA/ICJhcnJvdy1kb3duIiA6ICJhcnJvdy11cCI7CiAgICAgIHRoaXMuJGVtaXQoImhlaWdodENoYW5nZSIsIHRoaXMuY2FsZW5kYXJIZWlnaHQpOwogICAgfSwKCiAgICBmb3JtYXR0ZXIoZGF5KSB7CiAgICAgIGxldCB0b3RhbERheXMsIGRpZmZEYXRlOwogICAgICBsZXQgbXlEYXRlXzEgPSBEYXRlLnBhcnNlKGZpbHRlckRhdGUoZGF5LmRhdGUpKTsKICAgICAgbGV0IG15RGF0ZV8yID0gRGF0ZS5wYXJzZSgiMjAyMi0wOC0wOCIpOyAvLyDlsIbkuKTkuKrml6XmnJ/pg73ovazmjaLkuLrmr6vnp5LmoLzlvI/vvIznhLblkI7lgZrlt64KCiAgICAgIGRpZmZEYXRlID0gbXlEYXRlXzEgLSBteURhdGVfMjsgLy8g5Y+W55u45beu5q+r56eS5pWw55qE57ud5a+55YC8CgogICAgICBpZiAoZGlmZkRhdGUgPj0gMCkgewogICAgICAgIHRvdGFsRGF5cyA9IE1hdGguZmxvb3IoZGlmZkRhdGUgLyAoMTAwMCAqIDM2MDAgKiAyNCkpOyAvLyDlkJHkuIvlj5bmlbQKCiAgICAgICAgY29uc3QgbW9udGggPSBkYXkuZGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgICBjb25zdCBkYXRlID0gZGF5LmRhdGUuZ2V0RGF0ZSgpOwogICAgICAgIGNvbnNvbGUubG9nKHRvdGFsRGF5cyk7CiAgICAgICAgdmFyIHNoaWZ0ID0gWyLotKPnj60iLCAi5Lit54+tIiwgIuWkp+WknCIsICLlsI/lpJwiLCAi5YWo5LyRIiwgIuWNiuS8kSJdOwogICAgICAgIGRheS5ib3R0b21JbmZvID0gc2hpZnRbKHRvdGFsRGF5cyArIDIpICUgNl07CiAgICAgIH0KCiAgICAgIHJldHVybiBkYXk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AAqBA;AACA;EACAA;IACA;MACAC,mBADA;MAEAC,6BAFA;MAGAC,oBAHA;MAIAC,uBAJA;MAKAC;IALA;EAOA,CATA;;EAUAC;IACA;EACA,CAZA;;EAaAC;IACA;IACAC;MACA;QACA;MACA,CAFA;;MAGA;MACA;MACA;MACA;MACA;IACA,CAXA;;IAYA;IACAC;MACA;MACA;IACA,CAhBA;;IAiBAC;MACA;MACA;MACA;IACA,CArBA;;IAsBAC;MACA;MACA;MACA,wCAHA,CAIA;;MACAC,+BALA,CAKA;;MACA;QACAC,sDADA,CACA;;QACA;QACA;QACAC;QACA;QACAC;MACA;;MAGA;IACA;;EAvCA;AAbA","names":["data","minDate","maxDate","iconName","calendarHeight","timeValue","beforeMount","methods","getTodayTime","selectCalendar","hideOrshowCalendar","formatter","diffDate","totalDays","console","day"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["\r\n<template>\r\n  <div class=\"ImforQueryCalender\">\r\n    <van-calendar\r\n      :show-title=\"false\"\r\n      :show-subtitle=\"false\"\r\n      :poppable=\"false\"\r\n      :show-confirm=\"false\"\r\n      :lazy-render=\"true\"\r\n      :row-height=\"100\"\r\n      :style=\"{ height: calendarHeight }\"\r\n      :min-date=\"minDate\"\r\n      :max-date=\"maxDate\"\r\n      :first-day-of-week=1\r\n      :formatter=\"formatter\"\r\n      :show-mark=\"false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { filterDate } from \"./filters/filters\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      minDate: new Date(),\r\n      maxDate: new Date(2030,0,1),\r\n      iconName: \"arrow-up\",\r\n      calendarHeight: \"800px\",\r\n      timeValue: null\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.timeValue = this.getTodayTime();\r\n  },\r\n  methods: {\r\n    // 获取当天时间\r\n    getTodayTime(time = new Date()) {\r\n      const format = num => {\r\n        return num < 10 ? \"0\" + num : num;\r\n      };\r\n      const cd = new Date(time);\r\n      const year = cd.getFullYear();\r\n      const month = format(cd.getMonth() + 1);\r\n      const day = format(cd.getDate());\r\n      return `${year}-${month}-${day}`;\r\n    },\r\n    // 选择日期\r\n    selectCalendar(value) {\r\n      this.timeValue = this.getTodayTime(value);\r\n      this.$emit(\"timeValue\", this.timeValue);\r\n    },\r\n    hideOrshowCalendar() {\r\n      this.calendarHeight = this.calendarHeight == \"400px\" ? \"30px\" : \"400px\";\r\n      this.iconName = this.iconName == \"arrow-up\" ? \"arrow-down\" : \"arrow-up\";\r\n      this.$emit(\"heightChange\", this.calendarHeight);\r\n    },\r\n     formatter(day) {\r\n        let totalDays,diffDate\r\n      let myDate_1 = Date.parse(filterDate(day.date))\r\n      let myDate_2 = Date.parse(\"2022-08-08\")\r\n      // 将两个日期都转换为毫秒格式，然后做差\r\n      diffDate = myDate_1 - myDate_2 // 取相差毫秒数的绝对值\r\n      if(diffDate>=0){\r\n      totalDays = Math.floor(diffDate / (1000 * 3600 * 24))// 向下取整\r\n      const month = day.date.getMonth() + 1;\r\n      const date = day.date.getDate();\r\n      console.log(totalDays);   \r\n      var shift=[\"责班\",\"中班\",\"大夜\",\"小夜\",\"全休\",\"半休\"];\r\n      day.bottomInfo  = shift[(totalDays+2)%6];\r\n      }\r\n      \r\n\r\n      return day;\r\n    },\r\n\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.ImforQueryCalender {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  .van-calendar {\r\n    transition: all 0.3s ease;\r\n  }\r\n  .van-calendar__selected-day {\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n\r\n  .funTools {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 40px;\r\n    box-shadow: 1px 1px 5px #f1f1f1;\r\n    margin-bottom: 5px;\r\n    background-color: #fff;\r\n    z-index: 99;\r\n    p {\r\n      font-size: 16px;\r\n      text-align: center;\r\n      margin-right: 0.15rem;\r\n      font-weight: bold;\r\n    }\r\n    .van-icon {\r\n      font-size: 0.3rem;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}